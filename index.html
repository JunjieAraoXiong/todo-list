<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div id="weatherWidget" class="weather-widget">
                <div class="weather-loading">
                    <span>Loading...</span>
                </div>
            </div>
            <h1>Tasks</h1>
            <button id="statsToggle" class="stats-toggle" title="View statistics">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="20" x2="12" y2="10"></line>
                    <line x1="18" y1="20" x2="18" y2="4"></line>
                    <line x1="6" y1="20" x2="6" y2="16"></line>
                </svg>
            </button>
            <button id="themeToggle" class="theme-toggle" title="Toggle theme">
                <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
            <p class="task-counter"><span id="taskCount">0</span> remaining</p>
        </header>

        <div class="input-section">
            <div class="input-group">
                <input
                    type="text"
                    id="taskInput"
                    placeholder="What needs to be done?"
                    maxlength="200"
                    autocomplete="off"
                >
                <input
                    type="date"
                    id="dueDateInput"
                    title="Due date (optional)"
                >
                <input
                    type="time"
                    id="dueTimeInput"
                    title="Due time (optional)"
                >
                <select id="prioritySelect" class="priority-select" title="Priority (optional)">
                    <option value="">Priority</option>
                    <option value="high">üî¥ High</option>
                    <option value="medium">üü° Medium</option>
                    <option value="low">üü¢ Low</option>
                </select>
                <div class="location-autocomplete-wrapper">
                    <input
                        type="text"
                        id="locationInput"
                        placeholder="Location (optional)"
                        maxlength="100"
                        autocomplete="off"
                    >
                    <ul class="location-suggestions" id="locationSuggestions"></ul>
                </div>
                <button id="addBtn" class="add-btn">Add</button>
            </div>
        </div>

        <div class="tasks-section">
            <div class="tasks-header">
                <input type="checkbox" id="toggleAll" class="toggle-all">
                <label for="toggleAll" title="Mark all as complete"></label>
            </div>
            <ul id="taskList" class="task-list"></ul>
        </div>

        <footer class="footer">
            <div class="filters">
                <a href="#/" class="filter active">All</a>
                <a href="#/active" class="filter">Active</a>
                <a href="#/completed" class="filter">Completed</a>
            </div>
            <button id="clearCompleted" class="clear-completed">Clear completed</button>
        </footer>
    </div>

    <!-- Completion Celebration -->
    <div id="celebrationOverlay" class="celebration-overlay hidden">
        <canvas id="confettiCanvas"></canvas>
        <div class="celebration-message">
            <div class="celebration-icon">üéâ</div>
            <h2 class="celebration-title">All Tasks Complete!</h2>
            <p class="celebration-subtitle">Great work! You're crushing it today.</p>
        </div>
    </div>

    <!-- Onboarding Overlay -->
    <div id="onboardingOverlay" class="onboarding-overlay hidden">
        <div class="onboarding-content">
            <h1>Welcome to Tasks! üëã</h1>
            <p class="welcome-text">Your minimalist, Apple-inspired productivity companion</p>

            <div class="onboarding-features">
                <div class="feature-highlight">
                    <div class="feature-icon">‚å®Ô∏è</div>
                    <h3>Keyboard Shortcuts</h3>
                    <p>Navigate faster with keyboard shortcuts</p>
                </div>
                <div class="feature-highlight">
                    <div class="feature-icon">üéØ</div>
                    <h3>Focus Mode</h3>
                    <p>Pomodoro timer to help you concentrate</p>
                </div>
                <div class="feature-highlight">
                    <div class="feature-icon">üîî</div>
                    <h3>Smart Notifications</h3>
                    <p>Get reminded when tasks are due</p>
                </div>
            </div>

            <div class="quick-shortcuts">
                <h3>Quick Shortcuts</h3>
                <div class="shortcuts-row">
                    <div class="shortcut-chip">
                        <kbd>N</kbd>
                        <span>New Task</span>
                    </div>
                    <div class="shortcut-chip">
                        <kbd>‚Üë</kbd><kbd>‚Üì</kbd>
                        <span>Navigate</span>
                    </div>
                    <div class="shortcut-chip">
                        <kbd>Space</kbd>
                        <span>Complete</span>
                    </div>
                    <div class="shortcut-chip">
                        <kbd>F</kbd>
                        <span>Focus</span>
                    </div>
                    <div class="shortcut-chip">
                        <kbd>?</kbd>
                        <span>Help</span>
                    </div>
                </div>
            </div>

            <button id="gotItBtn" class="got-it-btn">Got it, let's start!</button>
            <p class="tip-text">Press <kbd>?</kbd> anytime to see all shortcuts</p>
        </div>
    </div>

    <!-- Keyboard Shortcuts Help Modal -->
    <div id="helpModal" class="help-modal hidden">
        <div class="help-content">
            <h2>Keyboard Shortcuts</h2>
            <div class="shortcuts-grid">
                <div class="shortcut-group">
                    <h3>Task Management</h3>
                    <div class="shortcut-item">
                        <kbd>N</kbd>
                        <span>New task</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üë</kbd><kbd>‚Üì</kbd>
                        <span>Navigate tasks</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Space</kbd>
                        <span>Toggle complete</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Enter</kbd>
                        <span>Edit task</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Delete</kbd>
                        <span>Delete task</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h3>Focus Mode</h3>
                    <div class="shortcut-item">
                        <kbd>F</kbd>
                        <span>Start focus mode</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Esc</kbd>
                        <span>Exit focus mode</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h3>Editing</h3>
                    <div class="shortcut-item">
                        <kbd>‚åò</kbd><kbd>Z</kbd>
                        <span>Undo</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚åò</kbd><kbd>‚áß</kbd><kbd>Z</kbd>
                        <span>Redo</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h3>Other</h3>
                    <div class="shortcut-item">
                        <kbd>S</kbd>
                        <span>View statistics</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>?</kbd>
                        <span>Show this help</span>
                    </div>
                </div>
            </div>
            <button id="closeHelp" class="close-help-btn">Close</button>
        </div>
    </div>

    <!-- Focus Mode / Pomodoro Timer -->
    <div id="focusMode" class="focus-mode hidden">
        <div class="focus-container">
            <div class="focus-left">
                <div class="live-clock-label">Current Time</div>
                <div class="live-clock" id="liveClock">00:00:00</div>
                <div class="live-date" id="liveDate">Monday, Jan 1</div>
            </div>
            <div class="focus-right">
                <div class="task-name-display" id="focusTaskName">Task Name</div>
                <div class="countdown-timer" id="countdownTimer">25:00</div>
                <div class="timer-controls">
                    <button id="pauseTimer" class="timer-btn pause-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                        </svg>
                        <span>Pause</span>
                    </button>
                    <button id="resumeTimer" class="timer-btn resume-btn hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        <span>Resume</span>
                    </button>
                    <button id="stopTimer" class="timer-btn stop-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 6h12v12H6z"/>
                        </svg>
                        <span>Stop</span>
                    </button>
                </div>
                <div class="timer-progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Dashboard Modal -->
    <div id="statsModal" class="stats-modal hidden">
        <div class="stats-content">
            <div class="stats-header">
                <h2>Activity Overview</h2>
                <button id="closeStats" class="close-stats-btn">√ó</button>
            </div>

            <div class="stats-heatmap-section">
                <div class="heatmap-header">
                    <h3>Last 12 Weeks</h3>
                    <div class="activity-summary">
                        <span id="activityCount">0</span> days active
                    </div>
                </div>
                <div class="contribution-graph" id="contributionGraph">
                    <!-- GitHub-style heatmap will be generated here -->
                </div>
                <div class="contribution-legend">
                    <span class="legend-label">Less</span>
                    <div class="legend-squares">
                        <div class="legend-square level-0"></div>
                        <div class="legend-square level-1"></div>
                        <div class="legend-square level-2"></div>
                        <div class="legend-square level-3"></div>
                        <div class="legend-square level-4"></div>
                    </div>
                    <span class="legend-label">More</span>
                </div>
            </div>

            <div class="stats-cards-row">
                <div class="stat-card-compact">
                    <div class="stat-icon-small">‚úÖ</div>
                    <div class="stat-content">
                        <div class="stat-value-compact" id="tasksCompletedToday">0</div>
                        <div class="stat-label-compact">Tasks Today</div>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon-small">üéØ</div>
                    <div class="stat-content">
                        <div class="stat-value-compact" id="pomodorosCompletedToday">0</div>
                        <div class="stat-label-compact">Pomodoros</div>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon-small">‚è±Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-value-compact" id="focusTimeToday">0 min</div>
                        <div class="stat-label-compact">Focus Time</div>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon-small">üî•</div>
                    <div class="stat-content">
                        <div class="stat-value-compact" id="currentStreak">0 days</div>
                        <div class="stat-label-compact">Streak</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
